# 🎓 项目演示流程指南

## 📋 演示场景

**场景**：向老师展示密码预测系统
- 老师在你的手机上输入一个密码（如"54321"）
- 系统收集传感器数据
- 模型预测出密码
- 展示预测结果

---

## ✅ 演示前准备清单

### 1️⃣ 确保已训练好模型

```bash
cd /Users/east/AndroidStudioProjects/iotproject/ml_code

# 检查是否有训练好的模型
ls -lh models/

# 应该看到类似这样的文件：
# random_forest_20250130_143022.pkl
```

**如果没有模型**：
```bash
# 训练一个
python run_all.py --model random_forest
```

**记录模型文件名**：
```
例如：random_forest_20250130_143022.pkl
```

---

### 2️⃣ 确认手机连接

```bash
/Users/east/Library/Android/sdk/platform-tools/adb devices

# 应该看到：
# List of devices attached
# RFCXA1767LX     device
```

---

### 3️⃣ 准备演示用的密码

选择一个简单易记的密码，例如：
- `12345`（经典）
- `54321`（反向）
- `13579`（奇数）
- `24680`（偶数）

**重要**：提前想好，演示时不要忘记！

---

## 🎬 完整演示流程（5步）

### 第 1 步：向老师说明即将做什么（30秒）

**你说**：
```
"老师，我现在演示一下我们的密码预测系统。

我的手机App会收集传感器数据（加速度计、陀螺仪等）。
您在手机上输入一个密码，比如 54321，
然后我们的机器学习模型会根据传感器数据预测出您输入的密码。

这个系统已经用 [X] 个样本训练过，准确率达到 [Y]%。"
```

**填入你的数据**：
- [X] = 你的训练样本数（如 1000）
- [Y] = 你的模型准确率（如 68%）

---

### 第 2 步：在手机上收集测试数据（1分钟）

#### 操作步骤

```
1. 打开手机上的 IoT Project App

2. 点击 "进入密码预测模式"

3. 告诉老师："请您在屏幕上按这几个数字键：5-4-3-2-1"

4. 老师依次点击：5 → 4 → 3 → 2 → 1

5. 你可以看到：
   - 屏幕显示 "正在收集数据..."
   - "已收集数据点: XXX"（数字在增加）

6. 等待 5 个数字都按完

7. 点击 "完成并保存"

8. 点击 "返回"
```

**给老师看的提示**：
- "每按一个数字，App就会记录传感器数据"
- "数据点数字在实时增加，说明正在收集"

---

### 第 3 步：从手机导出测试数据到电脑（30秒）

在电脑终端执行：

```bash
cd /Users/east/AndroidStudioProjects/iotproject

./export_data.sh

# 输出示例：
# === 导出传感器数据脚本 ===
# 1️⃣  检查手机上的文件...
#    ✓ 找到 15 个CSV文件
# ...
# 🎉 数据导出完成！
```

**给老师解释**：
- "这一步是把手机上的数据传到电脑"
- "数据以CSV文件格式保存"

---

### 第 4 步：运行模型预测密码（30秒）

#### 找到刚才的测试数据文件

```bash
# 查看最新的文件（就是刚才收集的）
ls -lt sensor_data/files/ | head -5

# 输出示例：
# -rw-r--r--  1 east  staff  125K Jan 30 14:30 password_training_1738223400123.csv  ← 最新的
# -rw-r--r--  1 east  staff  245K Jan 30 10:15 password_training_1738208100456.csv
# ...
```

记下最新文件名：`password_training_1738223400123.csv`

#### 运行预测

```bash
cd ml_code

python 4_predict_password.py \
    --model ./models/xgboost_20251030_151633.pkl \
    --data ../sensor_data/files/password_training_1761878641118.csv \
    --actual 24680
```

**重要**：
- `--model` 后面填你的模型文件名
- `--data` 后面填刚才的测试数据文件名
- `--actual` 后面填实际密码（用于对比）

---

### 第 5 步：展示预测结果（1分钟）

#### 预测输出示例（成功的情况）

```
============================================================
密码序列预测
============================================================
加载模型: ./models/random_forest_20250130_143022.pkl
✓ 模型类型: random_forest
✓ 特征数量: 218

分析文件: ../sensor_data/files/password_training_1738223400123.csv
  数据行数: 2145
  检测到 5 个按键事件
  按键 1: 预测=5, 实际=5, 置信度=85%
  按键 2: 预测=4, 实际=4, 置信度=78%
  按键 3: 预测=3, 实际=3, 置信度=91%
  按键 4: 预测=2, 实际=2, 置信度=72%
  按键 5: 预测=1, 实际=1, 置信度=88%

预测的密码序列: 54321

============================================================
评估结果
============================================================
实际密码: 54321
预测密码: 54321
✓ 完全正确！

============================================================
预测完成！密码: 54321
============================================================
```

**给老师讲解**：
1. "模型加载了 218 个特征（从传感器数据提取）"
2. "检测到 5 个按键事件，对应您按的 5 个数字"
3. "每个按键的预测结果和置信度：
   - 第1个数字预测是5，置信度85%，正确！
   - 第2个数字预测是4，置信度78%，正确！
   - ..."
4. "最终预测的完整密码是：54321"
5. "与实际密码完全匹配！"

---

#### 预测输出示例（部分错误的情况）

```
============================================================
密码序列预测
============================================================
...

分析文件: ../sensor_data/files/password_training_1738223400123.csv
  数据行数: 2580
  检测到 6 个按键事件
  按键 1: 预测=1, 实际=1, 置信度=82%
  按键 2: 预测=2, 实际=2, 置信度=75%
  按键 3: 预测=3, 实际=3, 置信度=88%
  按键 4: 预测=4, 实际=4, 置信度=69%
  按键 5: 预测=5, 实际=5, 置信度=91%
  按键 6: 预测=9, 实际=6, 置信度=58%  ← 这里错了

预测的密码序列: 123459

============================================================
评估结果
============================================================
实际密码: 123456
预测密码: 123459
部分正确: 5/6 (83.3%)

逐位比较:
  位置 1: 预测=1, 实际=1 ✓
  位置 2: 预测=2, 实际=2 ✓
  位置 3: 预测=3, 实际=3 ✓
  位置 4: 预测=4, 实际=4 ✓
  位置 5: 预测=5, 实际=5 ✓
  位置 6: 预测=9, 实际=6 ✗

============================================================
预测完成！密码: 123459
============================================================
```

**给老师讲解**（诚实面对错误）：
1. "模型预测对了前5个数字"
2. "最后一个数字把6预测成了9（它们在键盘上很接近）"
3. "总体准确率是 83.3%（5个对，1个错）"
4. "这说明：
   - ✅ 系统确实能从传感器数据预测密码
   - ⚠️ 还有改进空间（需要更多训练数据）
   - 💡 相邻的数字容易混淆（6和9，1和4等）"

---

## 🎯 演示技巧

### 1️⃣ 选择容易成功的密码

**推荐**（准确率较高）：
- `13579`（奇数，键盘位置分散）
- `02468`（偶数，同样分散）
- `51593`（避开相邻数字）

**避免**（容易混淆）：
- `123456`（连续，相邻数字多）
- `147`（竖着一列，容易混）
- `789`（横着一排，容易混）

### 2️⃣ 提前彩排

```bash
# 在演示前自己先完整走一遍流程
# 1. 在手机上输入测试密码
# 2. 导出数据
# 3. 运行预测
# 4. 查看结果

# 确保所有步骤都能顺利执行
```

### 3️⃣ 准备备用方案

如果现场演示失败（如网络问题、App崩溃）：
- 准备一个**提前录制的演示视频**
- 准备几张**预测结果的截图**
- 准备一份**预先运行好的输出文本**

---

## 📊 老师可能问的问题 + 回答

### Q1: 这个准确率是多少？

**你的回答**：
```
"目前用 [X] 个样本训练，测试集准确率是 [Y]%。

理论上，如果收集更多数据（2000+ 样本），准确率可以达到 70-85%。

文献中类似研究（使用加速度计和陀螺仪预测密码）的准确率通常在 60-80% 之间。"
```

---

### Q2: 为什么能通过传感器预测密码？

**你的回答**：
```
"主要原理是：

1. **位置差异**：按不同数字时，手指在屏幕上的位置不同
   - 按 0（底部中间）vs 按 9（右上角）
   - 手机的倾斜角度、加速度都不同

2. **运动模式**：每个数字按键引起的手部运动不同
   - 加速度计捕捉手的加速度变化
   - 陀螺仪捕捉手机的旋转角度

3. **机器学习**：模型学习了这些微妙的差异
   - 提取了 200+ 个特征（均值、标准差、FFT等）
   - 使用随机森林算法识别模式"
```

---

### Q3: 这个攻击在真实场景可行吗？

**你的回答**：
```
"理论上可行，但有很多限制：

✅ **可行性**：
- 如果攻击者能在手机上安装恶意App
- 该App有传感器权限（不需要特殊权限）
- 收集到足够的训练数据
- 那么确实可能推测密码

❌ **实际限制**：
- 需要在受害者设备上安装App（很难）
- 需要收集大量训练数据（需要时间）
- 不同人的按键习惯不同（跨用户泛化难）
- 对于复杂密码（>10位）准确率会下降

💡 **防御措施**：
- 使用生物识别（指纹、Face ID）
- 限制App传感器访问频率
- 使用虚拟键盘随机布局"
```

---

### Q4: 你用了哪些技术和算法？

**你的回答**：
```
"技术栈：

📱 **Android App（Part 1）**：
- Kotlin + Jetpack Compose
- 4种传感器：加速度计、陀螺仪、旋转矢量、磁力计
- 采样率：50Hz（满足课程要求 ≥20Hz）
- 后台服务：Foreground Service

🤖 **机器学习（Part 2 & 3）**：
- Python + scikit-learn
- 特征提取：时域（均值、标准差等）+ 频域（FFT）
- 算法：Random Forest（也测试了XGBoost、SVM）
- 评估：混淆矩阵、特征重要性分析

📊 **数据处理**：
- Pandas：数据预处理
- NumPy：数值计算
- SciPy：信号处理（FFT）"
```

---

### Q5: 你的贡献和创新点是什么？

**你的回答**：
```
"主要工作：

1️⃣ **完整系统实现**：
   - 从数据收集到预测的端到端pipeline
   - Android App + Python ML pipeline

2️⃣ **数据质量**：
   - 精确的采样率控制（50Hz）
   - 统一的CSV格式（8列）
   - 完整的label标注

3️⃣ **特征工程**：
   - 提取了 200+ 个特征
   - 时域 + 频域综合分析
   - 多传感器融合

4️⃣ **工程化**：
   - 一键数据管理脚本
   - 模块化代码设计
   - 详细的文档

5️⃣ **实验分析**：
   - 对比多种算法
   - 混淆矩阵分析（哪些数字容易混淆）
   - 特征重要性分析（哪些传感器最有用）"
```

---

## 🎬 演示脚本（完整对话版）

### 开场（30秒）

**你**：
```
"老师好，我来演示一下我的物联网课程项目：基于传感器的密码预测系统。

这个项目分三部分：
1. Android App收集传感器数据
2. 机器学习模型训练
3. 密码预测

我已经用 [X] 个样本训练了模型，准确率达到 [Y]%。
现在演示一下实际预测。"
```

---

### 收集数据（1分钟）

**你**：
```
"请老师在我的手机上输入这几个数字：5-4-3-2-1

您每按一个数字，App会自动记录传感器数据。
可以看到数据点数字在实时增加。"
```

**（老师按数字）**

**你**：
```
"好的，数据收集完成，我现在保存数据。"
```

**（点击"完成并保存"）**

---

### 数据传输（30秒）

**你**：
```
"现在我把数据从手机传到电脑进行分析。"
```

**（运行 export_data.sh）**

**你**：
```
"数据已传输完成。"
```

---

### 预测（30秒）

**你**：
```
"现在运行模型进行预测..."
```

**（运行 4_predict_password.py）**

**你**：
```
"模型正在分析传感器数据的 200 多个特征..."
```

---

### 结果展示（1分钟）

**（如果预测正确）**

**你**：
```
"预测结果出来了！

模型检测到 5 个按键事件：
- 第1个数字：预测是5，置信度85%，正确！
- 第2个数字：预测是4，置信度78%，正确！
- 第3个数字：预测是3，置信度91%，正确！
- 第4个数字：预测是2，置信度72%，正确！
- 第5个数字：预测是1，置信度88%，正确！

最终预测的密码是：54321
与实际密码完全匹配！✓

这说明模型确实能从传感器数据中推测出用户输入的密码。"
```

---

**（如果有错误）**

**你**：
```
"预测结果出来了！

5个数字中预测对了4个，准确率80%。

错误的那个是把 6 预测成了 9。
这是因为 6 和 9 在键盘上位置很接近，
导致传感器数据相似，模型容易混淆。

这也说明了：
1. 系统确实能预测密码（80%准确率）
2. 相邻数字是主要挑战（需要更多数据来区分）"
```

---

### 总结（30秒）

**你**：
```
"总结一下：

✓ 成功实现了基于传感器的密码预测
✓ 证明了这种侧信道攻击的可行性
✓ 分析了哪些传感器最重要（加速度计、陀螺仪）
✓ 展示了潜在的安全风险

未来改进方向：
- 收集更多数据提高准确率
- 测试跨用户泛化能力
- 研究防御措施"
```

---

## 🚨 常见问题应对

### 问题1：演示时App崩溃了

**应对**：
```
"没关系，我有备用的测试数据。
我用之前收集的数据来演示预测功能..."

（使用之前的CSV文件运行预测）
```

---

### 问题2：预测准确率很低（如30%）

**诚实应对**：
```
"这次准确率比较低，可能的原因：
1. 老师的按键习惯和训练数据不同（我的数据是我自己按的）
2. 这说明了跨用户泛化的困难
3. 实际上这也是一个有价值的发现：
   - 如果准确率低，说明个人化差异大
   - 如果准确率高，说明隐私风险更大"
```

---

### 问题3：模型预测时间太长

**应对**：
```
"预测需要一些时间，因为：
1. 要从原始数据提取 200+ 个特征
2. 要对每个按键单独预测
3. 要计算置信度和概率分布

实际上，这个时间在真实攻击中是可接受的..."
```

---

## 📋 演示前检查清单

打印这个清单，演示前逐项检查：

```
□ 模型已训练好，记下文件名：________________
□ 手机已连接，adb devices 能看到设备
□ 决定好演示用的密码：________________
□ 完整跑过一遍流程（彩排）
□ 准备好备用演示数据
□ 准备好回答常见问题
□ 电脑电量充足 / 充电器在手边
□ 手机电量充足
□ 终端窗口字体够大（老师能看清）
□ 关闭不必要的通知
□ 测试网络连接（虽然不需要，但以防万一）
```

---

## 🎯 成功演示的关键

1. **自信**：你已经完成了所有工作，相信自己！
2. **清晰**：解释每一步在做什么
3. **诚实**：如果出错，坦然面对并解释
4. **准备**：提前彩排，准备备用方案
5. **互动**：让老师参与（让老师按密码）

---

## 📝 演示后可能的延伸讨论

老师可能会深入讨论：

1. **隐私风险**：这种攻击在真实世界有多大威胁？
2. **防御措施**：如何防范这种攻击？
3. **技术细节**：特征提取的具体方法？
4. **实验设计**：如何验证跨用户泛化能力？
5. **相关研究**：类似的侧信道攻击研究？

**准备好这些话题的思考！**

---

## 🎉 祝你演示成功！

记住：
- ✅ 你已经完成了一个完整的端到端系统
- ✅ 无论预测对错，都是有价值的结果
- ✅ 诚实面对问题，展示你的思考过程
- ✅ 享受展示自己工作成果的过程！

**Good luck! 🚀**
